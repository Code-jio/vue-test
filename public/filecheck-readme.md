# 模型文件检查脚本使用说明

## 🎯 功能概述

这套脚本用于检查`model`文件夹中的3D模型文件（`.gltf`和`.glb`），生成详细的文件报告和统计信息。

## 📁 脚本文件说明

### 1. `filecheck.cjs` - 完整版检查脚本
- **功能**: 全面扫描model文件夹，生成详细报告
- **特性**: 
  - 扫描所有文件类型（不仅限于模型文件）
  - 解析GLTF文件内容，提取详细信息
  - 生成完整的统计报告
  - 包含文件大小、修改时间等详细信息

### 2. `simple-check.cjs` - 简化版检查脚本  
- **功能**: 快速检查模型文件，生成简洁报告
- **特性**:
  - 只关注模型文件（.gltf/.glb）
  - 快速执行，输出简洁
  - 生成轻量级JSON报告

### 3. `show-results.cjs` - 结果显示脚本
- **功能**: 美化显示已生成的检查结果
- **依赖**: 需要先运行`filecheck.cjs`生成报告文件

## 🚀 使用方法

### 方式一：快速检查（推荐）
```bash
node simple-check.cjs
```
- ✅ 执行速度快
- ✅ 输出清晰简洁  
- ✅ 专注于模型文件

### 方式二：完整检查
```bash
# 1. 生成完整报告
node filecheck.cjs

# 2. 查看美化结果
node show-results.cjs
```
- ✅ 信息最全面
- ✅ 包含GLTF文件详细分析
- ⚠️  处理时间较长（1398个文件）

## 📊 生成的报告文件

### 简化版报告
- **文件**: `simple-model-report.json` 
- **大小**: ~3KB
- **内容**: 模型文件基本信息和统计

### 完整版报告
- **文件**: `model-files-report.json` 
- **大小**: ~450KB
- **内容**: 所有文件的详细信息

- **文件**: `model-files-only.json`
- **大小**: ~6KB  
- **内容**: 仅模型文件的详细信息

## 📈 检查结果示例

```
📁 发现 1398 个文件，其中 16 个模型文件

📦 模型文件列表 (按大小排序):
1. 15.gltf (577.53 KB)    - 364材质/274纹理
2. 09.gltf (530.91 KB)    - 380材质/316纹理  
3. 10.gltf (427.00 KB)    - 306材质/262纹理
4. Horse.glb (177.55 KB)  - 二进制格式
...

📊 统计信息:
GLTF文件: 15 个
GLB文件: 1 个  
总大小: 2.89 MB
平均大小: 184.67 KB
```

## 🛠️ 技术实现

### 核心特性
- **纯Node.js**: 只使用内置模块，无需安装npm包
- **跨平台**: 支持Windows/macOS/Linux
- **内存友好**: 大文件分批处理，避免内存溢出
- **错误处理**: 完善的异常捕获和友好提示

### 文件解析能力
- **GLTF解析**: 提取场景、网格、材质、纹理等信息
- **文件统计**: 大小、修改时间、创建时间
- **格式识别**: 自动识别文件类型和编码

### 报告格式
- **JSON格式**: 结构化数据，便于程序处理
- **中文友好**: 使用中文字段名，便于阅读
- **统计分析**: 自动计算汇总信息

## 🔧 自定义配置

可以通过修改脚本来调整检查行为：

```javascript
// 修改检查的文件夹
const modelDir = './your-model-folder'

// 修改支持的文件格式
const supportedFormats = ['.gltf', '.glb', '.fbx', '.obj']

// 修改输出文件名
const outputPath = './custom-report.json'
```

## ⚡ 性能优化建议

1. **大量文件时**: 使用`simple-check.cjs`获得更快的检查速度
2. **详细分析时**: 使用`filecheck.cjs`获得完整信息
3. **定期检查**: 可以将脚本加入到构建流程中自动执行

## 🎯 使用场景

- **资源管理**: 了解模型文件的数量和大小分布
- **性能优化**: 识别过大的模型文件，进行优化
- **质量检查**: 验证模型文件的完整性和格式
- **项目统计**: 生成项目资源使用报告

## 📝 注意事项

1. 脚本会读取整个model文件夹，请确保有足够的磁盘空间
2. GLTF文件解析可能耗时较长，请耐心等待
3. 生成的JSON文件可用于进一步的数据分析和处理
4. 建议定期运行检查，保持资源库的清洁和优化 